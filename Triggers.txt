Trigger 1 :
For Inserting in OrderList when something is inserted in orders it automatically fetches data of addsto to its own table and further used to print last 5 orders records of that customer including their products;

DELIMITER //

CREATE TRIGGER insert_orderlist_trigger
AFTER INSERT ON Orders
FOR EACH ROW
BEGIN
    DECLARE cart_id INT;
    
    -- Retrieve the cartID based on the newly inserted order
    SELECT cartID INTO cart_id FROM Orders WHERE OrderID = NEW.OrderID;

    -- Insert data into the OrderList table based on the retrieved cartID
    INSERT INTO OrderList (OrderID, ProductID, ProductQty, ProductPrice)
    SELECT NEW.OrderID, addsTo.productID, addsTo.productQty, product.ProductPrice
    FROM addsTo
    INNER JOIN product ON addsTo.productID = product.productID
    WHERE addsTo.cartID = cart_id;
END //

DELIMITER ;



Trigger 2 : 
used to update cart price when something is inserted in addsto table 

DELIMITER //

CREATE TRIGGER update_cart_trigger AFTER INSERT ON addsTo
FOR EACH ROW
BEGIN
    DECLARE total_quantity INT;
    DECLARE total_cost DECIMAL(10, 2);

    -- Calculate total quantity and total cost for the cartID
    SELECT SUM(productQty), SUM(productQty * ProductPrice)
    INTO total_quantity, total_cost
    FROM addsTo a
    INNER JOIN product p ON a.productID = p.productID
    WHERE a.cartID = NEW.cartID;

    -- Update the cart table with the calculated values
    UPDATE cart
    SET productQty = total_quantity, TotalCost = total_cost
    WHERE cartID = NEW.cartID;
END;
//

DELIMITER ;


We have used Joins and other also to make our database working correctly, here are some of the queries that we used in the process of implementation : 
String insertCustomerQuery = "INSERT INTO Customer (CustomerID, fname, mname, lname, CustomerDOB, streetNo, landmark, city, state, pincode, email) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)";  used for signup 

String insertPasswordQuery = "INSERT INTO CustomerPassword (CustomerID, email, password) VALUES (?, ?, ?)";  used for storing email password so can u kater during login

String query = "SELECT OrderID FROM Orders WHERE CartID IN (SELECT CartID FROM Cart WHERE CustomerID = ?) ORDER BY OrderID DESC LIMIT 5";used to print the last 5 oders made by any customer

String query = "SELECT SUM(StockQty) AS totalStock FROM stores WHERE ProductID = ? AND WarehouseID = ?"; query for checking the product is available in the store or not

String addsToQuery = "SELECT a.productID, p.productname, p.ProductPrice, a.productQty " +
                "FROM addsTo a " +
                "INNER JOIN product p ON a.productID = p.productID " +
                "WHERE a.cartID IN (SELECT cartID FROM cart WHERE CustomerID = ?)";  
used to print or insert the data in addsto table for furthuer analysis visit this method 'printAddsToData'

for more visit their respective function......









Entries and some specific code and some queries are generated by help of chatGPT.

Requirements : -
JDBC mySQL connector (mysql-connector-j-8.3.0.jar module)
php and xampp
20(Oracle OpenJDK Version 20.0.1) or higher
MySQL
IntelliJ IDEA
